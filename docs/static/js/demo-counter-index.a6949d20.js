(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{"./demo/counter/index.css":function(e,t,n){},"./demo/counter/index.mdx":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/_@babel_runtime@7.8.3@@babel/runtime/helpers/esm/objectWithoutProperties.js"),o=n("react"),a=n.n(o),c=n("./node_modules/_@mdx-js_react@1.5.5@@mdx-js/react/dist/esm.js"),i=n("./node_modules/_antd@3.26.7@antd/es/card/index.js"),s=n("./node_modules/_antd@3.26.7@antd/es/button/index.js"),u=n("./src/store.ts"),d=n("./node_modules/_@vue_reactivity@3.0.0-alpha.3@@vue/reactivity/dist/reactivity.esm-bundler.js"),l=Object(d.c)({count:0});"undefined"!==typeof l&&l&&l===Object(l)&&Object.isExtensible(l)&&Object.defineProperty(l,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"state",filename:"demo/counter/store.ts"}});var b={add:function(){return l.count+=1}};"undefined"!==typeof b&&b&&b===Object(b)&&Object.isExtensible(b)&&Object.defineProperty(b,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"mutations",filename:"demo/counter/store.ts"}});var m={state:Object(d.c)(l)};"undefined"!==typeof m&&m&&m===Object(m)&&Object.isExtensible(m)&&Object.defineProperty(m,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"store",filename:"demo/counter/store.ts"}}),"undefined"!==typeof Store&&Store&&Store===Object(Store)&&Object.isExtensible(Store)&&Object.defineProperty(Store,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"Store",filename:"demo/counter/store.ts"}});n("./demo/counter/index.css"),n("./node_modules/_antd@3.26.7@antd/dist/antd.css");function f(){var e=Object(u.b)((function(e){return{count:e.state.count}}));return a.a.createElement(i.a,{hoverable:!0,style:{marginBottom:24}},a.a.createElement("h1",null,"\u8ba1\u6570\u5668"),a.a.createElement("div",{className:"chunk"},a.a.createElement("div",{className:"text-chunk"},"store\u4e2d\u7684count\u73b0\u5728\u662f ",e.count),a.a.createElement(s.a,{onClick:b.add},"add")))}var p=function(){return a.a.createElement(u.a,{value:m},a.a.createElement("div",{className:"flex"},a.a.createElement(f,null)))};n.d(t,"default",(function(){return v}));var j={};function v(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(c.b)("wrapper",Object.assign({},j,n,{components:t,mdxType:"MDXLayout"}),Object(c.b)("h2",{id:"\u7b80\u4ecb"},"\u7b80\u4ecb"),Object(c.b)("p",null,"\u4ec5\u4ec5\u9700\u8981\u4e00\u4e2a ",Object(c.b)("inlineCode",{parentName:"p"},"store.ts")," \u6587\u4ef6\uff0c\u4f60\u5c31\u53ef\u4ee5\u5f00\u59cb\u7f16\u5199\u4f60\u7684\u6570\u636e\u4ed3\u5e93\u3002"),Object(c.b)("p",null,"\u672c\u5e93\u53ea\u63d0\u4f9b ",Object(c.b)("inlineCode",{parentName:"p"},"Provider")," \u548c ",Object(c.b)("inlineCode",{parentName:"p"},"useStore")," \u4e24\u4e2a api\uff0c\u914d\u5408 ",Object(c.b)("inlineCode",{parentName:"p"},"@vue/reactivity")," \u4ed3\u5e93\u91cc\u7684\u54cd\u5e94\u5f0f\u80fd\u529b\uff0c\u5373\u53ef\u5b8c\u6210\u4e00\u5207\u72b6\u6001\u7ba1\u7406\u3002"),Object(c.b)("p",null,"\u5c3d\u60c5\u53d1\u6325\u4f60\u7684\u60f3\u8c61\u5427\u2026\u2026"),Object(c.b)("h2",{id:"\u793a\u4f8b"},"\u793a\u4f8b"),Object(c.b)(p,{mdxType:"Counter"}),Object(c.b)("h2",{id:"store"},"Store"),Object(c.b)("pre",null,Object(c.b)("code",Object.assign({parentName:"pre"},{className:"language-ts"}),"// store.ts\nimport { reactive, computed, effect } from '@vue/reactivity';\n\nexport const store = {\n  state: reactive({ count: 1})\n}\n")),Object(c.b)("h2",{id:"codes"},"Codes"),Object(c.b)("pre",null,Object(c.b)("code",Object.assign({parentName:"pre"},{className:"language-tsx"}),"import React from 'react';\nimport { Card, Button } from 'antd';\nimport { Provider, useStore } from '../../src/store';\nimport { store, mutations, Store } from './store';\nimport './index.css';\nimport 'antd/dist/antd.css';\n\nfunction Count() {\n  const countState = useStore((store: Store) => {\n    const { state } = store;\n    const { count } = state;\n\n    return {\n      count,\n    };\n  });\n\n  return (\n    <Card hoverable style={{ marginBottom: 24 }}>\n      <h1>\u8ba1\u6570\u5668</h1>\n      <div className=\"chunk\">\n        <div className=\"text-chunk\">store\u4e2d\u7684count\u73b0\u5728\u662f {countState.count}</div>\n        <Button onClick={mutations.add}>add</Button>\n      </div>\n    </Card>\n  );\n}\n\nexport default () => {\n  return (\n    <Provider value={store}>\n      <div className=\"flex\">\n        <Count />\n      </div>\n    </Provider>\n  );\n};\n\n")))}v&&v===Object(v)&&Object.isExtensible(v)&&Object.defineProperty(v,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"MDXContent",filename:"demo/counter/index.mdx"}}),v.isMDXComponent=!0},"./src/store.ts":function(e,t,n){"use strict";var r=n("react"),o=n.n(r),a=n("./node_modules/_@babel_runtime@7.8.3@@babel/runtime/helpers/esm/slicedToArray.js"),c=n("./node_modules/_@vue_reactivity@3.0.0-alpha.3@@vue/reactivity/dist/reactivity.esm-bundler.js"),i=function(){var e=Object(r.useReducer)((function(e){return e+1}),0);return Object(a.a)(e,2)[1]};i&&i===Object(i)&&Object.isExtensible(i)&&Object.defineProperty(i,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"useForceUpdate",filename:"src/share.ts"}});var s=function(){var e=Object(r.useRef)();e.current||(e.current=c.b.apply(void 0,arguments));var t=function(){Object(c.d)(e.current)};return Object(r.useEffect)((function(){return t}),[]),e.current};s&&s===Object(s)&&Object.isExtensible(s)&&Object.defineProperty(s,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"useEffection",filename:"src/share.ts"}}),n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return l}));var u=o.a.createContext(null),d=function(e){var t=i(),n=function(){var e=Object(r.useContext)(u);if(!e)throw new Error("could not find store context value; please ensure the component is wrapped in a <Provider>");return e}();return s((function(){return e(n)}),{scheduler:t,lazy:!0})()};"undefined"!==typeof d&&d&&d===Object(d)&&Object.isExtensible(d)&&Object.defineProperty(d,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"useStore",filename:"src/store.ts"}});var l=u.Provider;"undefined"!==typeof l&&l&&l===Object(l)&&Object.isExtensible(l)&&Object.defineProperty(l,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"Provider",filename:"src/store.ts"}})}}]);